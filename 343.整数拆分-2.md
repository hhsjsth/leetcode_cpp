官方方法 2, 但是不要看官方的写法和推理过程, 太复杂了, 自己总结如下

首先状态转移方程为 $dp[i] = max(x * dp[i - x], x * (i - x))$

---
对于 $a = b + c, a >= 4$, 能够找到 $b$ 和 $c$, 使得 $b * c >= a$,即当 $a \geq 4$ 时一定能将 $a$ 拆成至少两个正整数的和，这些正整数的乘积大于或等于 $a$.

而又由于 $dp[a] \geq b * c$, 所以 $dp[a] >= a$

要证明对于任何 $a = b + c$ 且 $a \geq 4$，能够得出 $b \cdot c \geq a$，我们可以通过分析函数的性质来进行证明。

首先，设 $a = b + c$，其中 $b$ 和 $c$ 是非负实数。我们需要证明 $b \cdot c \geq a$。

考虑函数 $f(x) = x \cdot (a - x)$，其中 $0 \leq x \leq a$。这个函数表示在 $b + c = a$ 的条件下，$b \cdot c$ 的值。

函数 $f(x)$ 是一个开口向下的抛物线，其顶点在 $x = \frac{a}{2}$ 处。顶点处的值为：
$$
f\left(\frac{a}{2}\right) = \left(\frac{a}{2}\right) \cdot \left(a - \frac{a}{2}\right) = \frac{a^2}{4}
$$

由于 $a \geq 4$，我们有：
$$
\frac{a^2}{4} \geq a
$$

接下来，我们证明这个不等式：
$$
\frac{a^2}{4} \geq a
$$

两边同时乘以 4：
$$
a^2 \geq 4a
$$

移项得到：
$$
a^2 - 4a \geq 0
$$

因式分解：
$$
a(a - 4) \geq 0
$$

由于 $a \geq 4$，所以 $a(a - 4) \geq 0$ 恒成立。因此，我们有：
$$
\frac{a^2}{4} \geq a
$$

这意味着在 $b + c = a$ 且 $a \geq 4$ 的条件下，$b \cdot c$ 的最大值 $\frac{a^2}{4}$ 总是大于或等于 $a$。因此，对于任何 $a = b + c$ 且 $a \geq 4$，我们可以得出 $b \cdot c \geq a$。

---

甚至事实上, 任何整数 $b > 1$ 和 $c > 1$，且 $a = b + c$ 和 $a > 4$，任意的 $b$ 和 $c$ 都满足 $b \cdot c > a$ ② (不过好像这个不需要用到)

要证明对于任何整数 $b > 1$ 和 $c > 1$，且 $a = b + c$ 和 $a > 4$，任意的 $b$ 和 $c$ 都满足 $b \cdot c > a$，我们可以通过不等式和基本代数来进行证明。

首先，设 $a = b + c$，其中 $b$ 和 $c$ 是大于 1 的整数。我们需要证明 $b \cdot c > a$。

由于 $b$ 和 $c$ 都是大于 1 的整数，因此 $b \geq 2$ 且 $c \geq 2$。我们可以写出 $a$ 的表达式：
$$
a = b + c
$$

接下来，我们考虑 $b \cdot c$：
$$
b \cdot c
$$

我们需要证明 $b \cdot c > b + c$。为了证明这一点，我们可以通过以下步骤：

1. **基本不等式**：由于 $b \geq 2$ 且 $c \geq 2$，我们有：
   $$
   b \cdot c \geq 2 \cdot 2 = 4
   $$

2. **比较 $b \cdot c$ 和 $b + c$**：我们需要证明 $b \cdot c > b + c$。考虑以下不等式：
   $$
   b \cdot c - (b + c) > 0
   $$

3. **展开并简化**：
   $$
   b \cdot c - b - c > 0
   $$
   $$
   b(c - 1) - c > 0
   $$
   $$
   b(c - 1) > c
   $$

4. **进一步简化**：由于 $b > 1$ 和 $c > 1$，我们可以进一步简化：
   $$
   b(c - 1) > c
   $$
   $$
   b > \frac{c}{c - 1}
   $$

5. **验证不等式**：由于 $c > 1$，我们有：
   $$
   \frac{c}{c - 1} < 2
   $$
   因此，对于 $b \geq 2$，我们有：
   $$
   b > \frac{c}{c - 1}
   $$

综上所述，对于任何 $b > 1$ 和 $c > 1$ 且 $a = b + c$ 且 $a > 4$，我们可以得出 $b \cdot c > a$。

---

我们先考虑 $x * dp[i - x]$

对于 $i = 2$ 显然 $dp[2] = 1$
对于 $i = 3$ 显然 $dp[3] = 1 * 2 = 2$

$1 * dp(i−1)$ 必然不是最大值, 因为可以将 1 加到 $dp[i - 1]$ 拆分出的一个数上得到更大的结果，所以这一项可以不考虑拆分出 1。

因此对于 $i = 4$, $dp[4]$ 不需要考虑 $1 * dp[3]$, 只需要考虑 $2 * dp[4 - 2]$

对于 $i >= 5 $, 考虑是否能够拆分出 $4$ 以及以上的数值, 我们令拆分出来一个 $x >= 4$, 由于根据 ① ($dp[x] \geq x$) 得出 $x * dp[i - x] < dp[x] * dp[i - x]$, 因此不需要考虑拆分出 $x >= 4$ 的情况

---

再考虑 $x * (i - x)$, 根据 $f(x) = x(i - x)$ 函数曲线, 显然最大值为 $\frac{i/2}{i - i/2}$

---

因此 $f(i) = max(2 * f(i - 2), 3 * f(i - 3), (i/2)(i - i/2))$

综上
$$
f(i) =
\begin{cases}
  1 &  i = 2 \\
  max(2 * f(i - 2), 3 * f(i - 3), i/2 * (i - i/2)) & i \ge 3
\end{cases}
$$

这也是 343.整数拆分-2.cpp 的做题依据

---
我们再来考虑一下 $x * (i - x)$

要使得其最大, 只能是 $i/2 * (i - i/2)$, 而如果 $i/2 \geq 4$, 则根据 ①, 得出 $i/2 * (i - i/2) \le dp[i/2] * (i - i/2) \le dp[i/2 + i - i/2] = dp[i]$

换句话说, 如果 $x \geq 4$, 则根据 ①, 得出 $x * (i - x) \le dp[x] * (i - x) \le dp[x + i - x] = dp[i]$, 因此, 对于 $x * (i - x)$ 也不需要考虑 $ x\ge4 $ 的情况

所以也只需考虑 $2 * (i - 2)$ 和 $3 * (i - 3)$ 的情况

如下,

$$
f(i) =
\begin{cases}
  1 &  i = 2 \\
  max(2 * f(i - 2), 3 * f(i - 3), 2 * (i - 2), 3 * (i - 3)) & i \ge 3
\end{cases}
$$

以上为 LeetCode 的官方方法二.

然而, 超过 $2 * (i - 2)$ 和 $3 * (i - 3)$ 必定小于等于 $i/2 * (i - i/2)$, 因此

$$
f(i) =
\begin{cases}
  1 &  i = 2 \\
  max(2 * f(i - 2), 3 * f(i - 3), 2 * (i - 2), 3 * (i - 3)) & 3 \le i \le 6 \\
  max(2 * f(i - 2), 3 * f(i - 3)) & i \ge 7
\end{cases}
$$

通过 343.整数拆分-3.cpp 验证正确
